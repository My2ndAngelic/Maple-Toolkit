<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <title>Daily Boss Crystal</title>
    <link rel="stylesheet" href="../style/style.css" id="themeStylesheet">
    <link rel="stylesheet" href="../style/bosscrystal.css">
<script type="module">
    import { initializeNavbar, setPageTitle } from "../script/navbar.js";
    import { initializeUI } from "../script/ui.js";
    import { initializePage } from "../script/bosscrystal.js";

    document.addEventListener('DOMContentLoaded', async () => {
        await initializeNavbar();  // inject navbar
        setPageTitle();            // optional: updates title based on filename

        initializeUI();
        initializePage({
            mode: 'daily',
            csv: 'bosscrystal_daily.csv',
            limit: null
        });
    });
</script>

</head>
<body>
    <div id="container">
        <!-- Navbar will be added by ui.js -->
        <h1>Daily Boss Crystal</h1>
        <div class="controls-container">
            <div class="heroic-mode-container">
                <input type="checkbox" id="heroicMode">
                <label for="heroicMode">Heroic Mode (5x Meso)</label>
            </div>
            <div class="crystal-counter">
                <span id="crystalCount">0</span><span> Crystals Selected</span>
            </div>
            <div class="total-container">
                <span>Total Meso: </span>
                <span id="totalMeso" class="total-value">0</span>
            </div>
            <button id="resetSelections" class="reset-button">Reset Selections</button>
        </div>
        <div id="errorMessage" style="color: red;"></div>
        <table id="bossTable" class="data-table">
            <thead>
                <tr>
                    <th class="center-header">Select</th>
                    <th>Boss</th>
                    <th>Difficulty</th>
                    <th class="right-align">Meso Value</th>
                </tr>
            </thead>
            <tbody>
                <!-- Table data will be populated by JavaScript -->
            </tbody>
        </table>
    </div>
</body>
</html>
